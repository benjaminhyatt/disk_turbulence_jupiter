# PNG encoding with ffmpeg
# Options:
#  -y         Overwrite output
#  -f image2pipe    Input format
#  -vcodec png     Input codec
#  -r $3        Frame rate
#  -i $1        Input files from cat command
#  -f mp4       Output format
#  -vcodec libx254   Output codec
#  -pix_fmt yuv420p  Output pixel format
#  -preset slower   Prefer slower encoding / better results
#  -crf 20       Constant rate factor (lower for better quality)
#  -vf "scale..."   Round to even size
#  $2         Output file
#!/bin/bash

function png2mp4(){
  cat $1* | ffmpeg \
    -y \
    -f image2pipe \
    -vcodec png \
    -framerate $3 \
    -i - \
    -f mp4 \
    -vcodec libx264 \
    -pix_fmt yuv420p \
	-preset slower \
    -crf 20 \
    -vf "scale=trunc(in_w/2)*2:trunc(in_h/2)*2" \
    $2
}
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_8em05_gam_0d0ep00_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_8em05_gam_0d0ep00_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_8em05_gam_2d4ep02_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_8em05_gam_2d4ep02_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_4em05_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0/write_ vorticity_nu_4em05_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10


#png2mp4 zonal_profiles_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ zonal_profiles_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 zonal_profiles_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ zonal_profiles_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 zonal_profiles_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ zonal_profiles_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_768_Nr_384_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 zonal_profiles_nu_8em05_gam_0d0ep00_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ zonal_profiles_nu_8em05_gam_0d0ep00_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 zonal_profiles_nu_8em05_gam_2d4ep02_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ zonal_profiles_nu_8em05_gam_2d4ep02_kf_2d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_4em05_gam_1d9ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_4em05_gam_1d9ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 vorticity_nu_4em05_gam_2d5ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0/write_ vorticity_nu_4em05_gam_2d5ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 spectra_zb_dini_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 spectra_zb_dini_decomp_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_decomp_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 spectra_zb_dini_decomp_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_decomp_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 spectra_zb_dini_decomp_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_decomp_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 spectra_zb_dini_decomp_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_decomp_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10
#png2mp4 spectra_zb_dini_decomp_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ spectra_zb_dini_decomp_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_4em05_gam_2d5ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0/write_ vorticity_nu_4em05_gam_2d5ep03_kf_4d0ep01_Nphi_1536_Nr_768_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0.mp4 10


#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_1/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_1.mp4 10
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_2/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_2.mp4 10
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_3/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_3.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_4/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_4.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_5/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_5.mp4 10
#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_6/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_6.mp4 10
#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_7/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_restart_hyst_7.mp4 10

#png2mp4 vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10
#png2mp4 vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10
#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10
#png2mp4 vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence.mp4 10

#png2mp4 vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10
#png2mp4 vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10
#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10
#png2mp4 vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early/write_ vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_early.mp4 10

#png2mp4 vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_0d0ep00_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10
#png2mp4 vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_8d5ep01_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10
#png2mp4 vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_2d4ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10
#png2mp4 vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_4d0ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10
#png2mp4 vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_6d8ep02_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10
#png2mp4 vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late/write_ vorticity_nu_2em04_gam_1d9ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_1d0em02_ring_0_restart_evolved_0_cadence_late.mp4 10

#png2mp4 vorticity_nu_4em05_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0/write_ vorticity_nu_2em04_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0.mp4 10

#png2mp4 vorticity_nu_2em04_gam_2d4ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_2em04_gam_2d4ep03_kf_2d0ep01_Nphi_512_Nr_256_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0_cadence.mp4 10

png2mp4 vorticity_nu_4em05_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0_cadence/write_ vorticity_nu_4em05_gam_2d4ep03_kf_4d0ep01_Nphi_1024_Nr_512_eps_1d0ep00_alpha_3d3em02_ring_0_restart_evolved_0_cadence.mp4 10
